{% extends 'main.html' %}

{% block content %}

<link rel="stylesheet" href="../../static/styles/one-product.css" /> 

<div class="pro">
<div class="page-1">
  <div class="text-1">
    <div class="image-box">
      <img id="img" decoding="async" src="{{product.image.url}}" alt="" />
      {% comment %} <div id="result" class="img-zoom-result"></div> {% endcomment %}
    </div>
    <div class="info">
      <span>{{product.category}}</span>
      <p class="title">{{product.brand}}</p>
      <h2>
        {{product.name}}
      </h2>
      <p>
        {{product.description}}
      </p>

      <div class="all_specifiers">
        {% for key,value in details %}
        <b>{{key}}: </b>
        <select class="specifier" style="width:60px">
          {% for v in value %}
          <option  value="{{v}}">{{v}}</option>
          {% endfor %}
        </select>
        {% endfor %}
      </div>
      
      <p class="price">Now: <b> EGP {{product.price}}</b></p>

      <div class="btn">
        <p style="color: red">{{product.left}} متبقية</p>
        <div class="add-cart">
          
          <button>أضف الي السلة</button>
          <input type="number" value="1" />
          
        </div>
      </div>

    </div>
  </div>
</div>
</div>

{% endblock %}

{% block script %}

<script src="../../static/JsScripts/image_zoom.js"></script>

<script>

  let add_cart = document.querySelector('.add-cart');
  let quantity = add_cart.querySelector('input');
  let btn = add_cart.querySelector('button');
  
  btn.onclick = function(){
    add_to_cart({{product.id}}, quantity.value)
  }

</script>

{% endblock %}